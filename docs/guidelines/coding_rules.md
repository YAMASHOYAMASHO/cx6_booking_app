# コーディング規約 & ガイドライン

## 🔴 最重要ルール
1.  **エラーメッセージ**: すべてのエラー表示には必ず `SelectableText` を使用すること。
    - **理由**: ユーザーがエラーメッセージをコピーして報告できるようにするため。
    - **例**: `SelectableText('エラー: $e')`
2.  **Firestoreクエリ**: 複合インデックスを避けること。
    - **理由**: デプロイと保守を簡素化するため。
    - **戦略**: サーバー側では `where` フィルタを使用し、必要に応じてクライアント側でソートを行う。
3.  **認証チェック**: データ操作の前に必ず `currentUser` を検証すること。
4.  **非同期の安全性**: `await` の後に `context` を使用する前に、必ず `context.mounted` をチェックすること。

## 📝 命名規則
- **クラス**: `PascalCase` (例: `ReservationViewModel`)
- **変数/関数**: `camelCase` (例: `fetchReservations`)
- **ファイル**: `snake_case` (例: `reservation_viewmodel.dart`)

## 🏗️ アーキテクチャガイドライン
- **ロジックの配置**: ビジネスロジックはViewではなくViewModelに記述すること。
- **データアクセス**: すべてのFirestoreとのやり取りはRepositoryを経由すること。
- **状態**: すべての状態管理にRiverpodを使用すること。

## 🐛 デバッグ
- `print` の代わりに `debugPrint` を使用すること。
- 詳細なエラーログについてはブラウザのコンソールを確認すること。
