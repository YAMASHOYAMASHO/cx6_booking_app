# CX6 è£…ç½®äºˆç´„ã‚·ã‚¹ãƒ†ãƒ  - å®Ÿè£…ã‚¬ã‚¤ãƒ‰

## ğŸ“ å®Œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
cx6_booking_app/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                          # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â””â”€â”€ firebase_config.dart       # Firebaseè¨­å®šï¼ˆAPIã‚­ãƒ¼ãªã©ï¼‰
â”‚       â”œâ”€â”€ models/                        # ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«å±¤
â”‚       â”‚   â”œâ”€â”€ user.dart                  # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¢ãƒ‡ãƒ«
â”‚       â”‚   â”œâ”€â”€ equipment.dart             # è£…ç½®ãƒ¢ãƒ‡ãƒ«
â”‚       â”‚   â””â”€â”€ reservation.dart           # äºˆç´„ãƒ¢ãƒ‡ãƒ«
â”‚       â”œâ”€â”€ repositories/                  # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ï¼ˆFirestoreã¨ã®é€šä¿¡ï¼‰
â”‚       â”‚   â”œâ”€â”€ user_repository.dart       # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®CRUD
â”‚       â”‚   â”œâ”€â”€ equipment_repository.dart  # è£…ç½®ãƒ‡ãƒ¼ã‚¿ã®CRUD
â”‚       â”‚   â””â”€â”€ reservation_repository.dart# äºˆç´„ãƒ‡ãƒ¼ã‚¿ã®CRUDã€é‡è¤‡ãƒã‚§ãƒƒã‚¯
â”‚       â”œâ”€â”€ viewmodels/                    # ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤ï¼ˆçŠ¶æ…‹ç®¡ç†ï¼‰
â”‚       â”‚   â”œâ”€â”€ auth_viewmodel.dart        # èªè¨¼çŠ¶æ…‹ã¨ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
â”‚       â”‚   â”œâ”€â”€ equipment_viewmodel.dart   # è£…ç½®ã®é¸æŠã€ç®¡ç†
â”‚       â”‚   â””â”€â”€ reservation_viewmodel.dart # äºˆç´„ã®ä½œæˆã€ç·¨é›†ã€å‰Šé™¤
â”‚       â”œâ”€â”€ views/                         # UIå±¤ï¼ˆç”»é¢ï¼‰
â”‚       â”‚   â”œâ”€â”€ login_page.dart            # ãƒ­ã‚°ã‚¤ãƒ³/ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ç”»é¢
â”‚       â”‚   â”œâ”€â”€ home_page.dart             # ãƒ›ãƒ¼ãƒ ç”»é¢ï¼ˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã€ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼‰
â”‚       â”‚   â””â”€â”€ reservation_form_page.dart # äºˆç´„ä½œæˆ/ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
â”‚       â””â”€â”€ utils/
â”‚           â””â”€â”€ seed_data.dart             # ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ index.html                         # Firebase SDKã®èª­ã¿è¾¼ã¿è¨­å®šæ¸ˆã¿
â”‚   â”œâ”€â”€ manifest.json
â”‚   â””â”€â”€ icons/
â”œâ”€â”€ pubspec.yaml                           # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å®šç¾©
â”œâ”€â”€ README.md                              # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
â”œâ”€â”€ FIREBASE_SETUP.md                      # Firebaseè¨­å®šã‚¬ã‚¤ãƒ‰
â””â”€â”€ IMPLEMENTATION.md                      # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

### MVVMãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  View Layer                     â”‚
â”‚  (UI - Flutter Widgets)                         â”‚
â”‚  - LoginPage, HomePage, ReservationFormPage     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ViewModel Layer                   â”‚
â”‚  (Presentation Logic - Riverpod)                â”‚
â”‚  - AuthViewModel                                â”‚
â”‚  - EquipmentViewModel                           â”‚
â”‚  - ReservationViewModel                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ ãƒ‡ãƒ¼ã‚¿è¦æ±‚/æ›´æ–°
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Repository Layer                   â”‚
â”‚  (Data Access Logic)                            â”‚
â”‚  - UserRepository                               â”‚
â”‚  - EquipmentRepository                          â”‚
â”‚  - ReservationRepository                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ Firestoreæ“ä½œ
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Firebase Backend                  â”‚
â”‚  - Authentication                               â”‚
â”‚  - Firestore Database                           â”‚
â”‚  - (Storage)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”‘ ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®èª¬æ˜

### 1. Modelsï¼ˆãƒ¢ãƒ‡ãƒ«å±¤ï¼‰

#### User (ãƒ¦ãƒ¼ã‚¶ãƒ¼)
- **è²¬å‹™**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®æ§‹é€ å®šç¾©
- **ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰**:
  - `fromFirestore()`: Firestoreã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ãƒ¢ãƒ‡ãƒ«ã¸å¤‰æ›
  - `toFirestore()`: ãƒ¢ãƒ‡ãƒ«ã‹ã‚‰Firestoreã®ãƒ‡ãƒ¼ã‚¿ã¸å¤‰æ›
  - `copyWith()`: ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªæ›´æ–°

#### Equipment (è£…ç½®)
- **è²¬å‹™**: è£…ç½®æƒ…å ±ã®æ§‹é€ å®šç¾©
- **ä¸»è¦ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£**: `name`, `description`, `isAvailable`

#### Reservation (äºˆç´„)
- **è²¬å‹™**: äºˆç´„æƒ…å ±ã®æ§‹é€ å®šç¾©
- **ä¸»è¦ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£**: `equipmentId`, `userId`, `startTime`, `endTime`
- **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯**:
  - `durationInHours`: äºˆç´„æ™‚é–“ã®è¨ˆç®—
  - `isOngoing`: é€²è¡Œä¸­ã‹ã©ã†ã‹ã®åˆ¤å®š
  - `isPast`: éå»ã®äºˆç´„ã‹ã©ã†ã‹ã®åˆ¤å®š

### 2. Repositoriesï¼ˆãƒªãƒã‚¸ãƒˆãƒªå±¤ï¼‰

#### UserRepository
```dart
// ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰
Future<User?> getUserById(String id)
Stream<User?> getUserStream(String id)
Future<void> saveUser(User user)
Future<void> updateUser(User user)
Stream<List<User>> getAllUsersStream()  // ç®¡ç†è€…ç”¨
```

#### EquipmentRepository
```dart
// ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰
Stream<List<Equipment>> getEquipmentsStream()
Future<Equipment?> getEquipmentById(String id)
Future<String> addEquipment(Equipment equipment)
Future<void> updateEquipment(Equipment equipment)
Future<void> deleteEquipment(String id)
Stream<List<Equipment>> getAvailableEquipmentsStream()
```

#### ReservationRepository
```dart
// ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰
Stream<List<Reservation>> getReservationsStream()
Stream<List<Reservation>> getReservationsByDateStream(DateTime date)
Stream<List<Reservation>> getReservationsByEquipmentStream(String equipmentId)
Stream<List<Reservation>> getReservationsByUserStream(String userId)
Future<String> addReservation(Reservation reservation)
Future<void> updateReservation(Reservation reservation)
Future<void> deleteReservation(String id)
Future<List<Reservation>> _checkConflicts(...)  // å†…éƒ¨ï¼šé‡è¤‡ãƒã‚§ãƒƒã‚¯
```

### 3. ViewModelsï¼ˆãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ‡ãƒ«å±¤ï¼‰

#### AuthViewModel
```dart
// Riverpod StateNotifier
- signInWithEmail(email, password)
- signUpWithEmail(email, password, name)
- signOut()

// ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
- authStateProvider: èªè¨¼çŠ¶æ…‹ã®ç›£è¦–
- currentUserProvider: ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
```

#### EquipmentViewModel
```dart
// è£…ç½®ã®ç®¡ç†æ“ä½œ
- addEquipment(equipment)
- updateEquipment(equipment)
- deleteEquipment(id)

// ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
- equipmentsProvider: å…¨è£…ç½®ãƒªã‚¹ãƒˆ
- availableEquipmentsProvider: åˆ©ç”¨å¯èƒ½ãªè£…ç½®ãƒªã‚¹ãƒˆ
- selectedEquipmentProvider: é¸æŠä¸­ã®è£…ç½®
```

#### ReservationViewModel
```dart
// äºˆç´„ã®ç®¡ç†æ“ä½œ
- addReservation(reservation)
- updateReservation(reservation)
- deleteReservation(id)

// ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
- reservationsProvider: å…¨äºˆç´„ãƒªã‚¹ãƒˆ
- selectedDateProvider: é¸æŠä¸­ã®æ—¥ä»˜
- reservationsByDateProvider: é¸æŠæ—¥ã®äºˆç´„
- reservationsByEquipmentProvider: è£…ç½®åˆ¥ã®äºˆç´„
- reservationsByUserProvider: ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥ã®äºˆç´„
```

### 4. Viewsï¼ˆãƒ“ãƒ¥ãƒ¼å±¤ï¼‰

#### LoginPage
- **æ©Ÿèƒ½**:
  - ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ã®ãƒ­ã‚°ã‚¤ãƒ³
  - æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
  - ãƒ­ã‚°ã‚¤ãƒ³/ç™»éŒ²ã®åˆ‡ã‚Šæ›¿ãˆ
- **ä½¿ç”¨ã™ã‚‹ViewModel**: AuthViewModel

#### HomePageï¼ˆãƒ¡ã‚¤ãƒ³ç”»é¢ï¼‰
- **æ§‹æˆè¦ç´ **:
  - `_EquipmentSelector`: è£…ç½®é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³
  - `_MonthCalendar`: æœˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆtable_calendarä½¿ç”¨ï¼‰
  - `_DateNavigationButtons`: æ—¥ä»˜ç§»å‹•ãƒœã‚¿ãƒ³
  - `_TimelineView`: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º
  - `_TimelineGrid`: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚°ãƒªãƒƒãƒ‰ï¼ˆ24æ™‚é–“åˆ†ï¼‰
- **ä½¿ç”¨ã™ã‚‹ViewModel**: 
  - AuthViewModelï¼ˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆï¼‰
  - EquipmentViewModelï¼ˆè£…ç½®é¸æŠï¼‰
  - ReservationViewModelï¼ˆäºˆç´„è¡¨ç¤ºï¼‰

#### ReservationFormPage
- **æ©Ÿèƒ½**:
  - æ–°è¦äºˆç´„ã®ä½œæˆ
  - æ—¢å­˜äºˆç´„ã®ç·¨é›†
  - æ™‚åˆ»é¸æŠï¼ˆ15åˆ†å˜ä½ï¼‰
  - ãƒ¡ãƒ¢ã®å…¥åŠ›
- **ä½¿ç”¨ã™ã‚‹ViewModel**: ReservationViewModel

## ğŸ¨ UIã®å®Ÿè£…è©³ç´°

### ãƒ›ãƒ¼ãƒ ç”»é¢ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AppBar: è£…ç½®äºˆç´„ã‚·ã‚¹ãƒ†ãƒ             [ğŸ‘¤] [âš™] [ğŸšª]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚  11æœˆ1æ—¥(åœŸ)          ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚’ãƒ‰ãƒ©ãƒƒã‚°â”‚
â”‚ ğŸ éƒ¨å±‹:      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  [SmartLab â–¼]â”‚ â”‚ ğŸŸ© SmartLab                          â”‚â”‚
â”‚              â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚              â”‚ â”‚ 00:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚              â”‚ â”‚ 03:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  2025å¹´11æœˆ  â”‚ â”‚ 06:00 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚       â”‚ å±±ç”°å¤ªéƒ         â”‚          â”‚â”‚
â”‚ â”‚æ—¥æœˆç«æ°´æœ¨é‡‘åœŸâ”‚ â”‚ â”‚ 09:00 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚â”‚
â”‚ â”‚  1 2 3 4 5â”‚ â”‚ â”‚ 12:00 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚â”‚
â”‚ â”‚6 7 8 9 10 â”‚ â”‚ â”‚       â”‚ ä½è—¤èŠ±å­         â”‚          â”‚â”‚
â”‚ â”‚11...      â”‚ â”‚ â”‚ 15:00 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ 18:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚              â”‚ â”‚ 21:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [<å‰ã®æ—¥] [ä»Šæ—¥]â”‚                                         â”‚
â”‚ [æ¬¡ã®æ—¥>]    â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®å®Ÿè£…

- **é«˜ã•**: 24æ™‚é–“ Ã— 60px = 1,440px
- **ã‚°ãƒªãƒƒãƒ‰**: 1æ™‚é–“ã”ã¨ã«å¢ƒç•Œç·šï¼ˆ3æ™‚é–“ã”ã¨ã«å¤ªç·šï¼‰
- **äºˆç´„ãƒãƒ¼**: 
  - ä½ç½®: `top = (é–‹å§‹æ™‚åˆ»ã®æ™‚é–“ + åˆ†/60) Ã— 60px`
  - é«˜ã•: `height = äºˆç´„æ™‚é–“(æ™‚é–“å˜ä½) Ã— 60px`
  - è‰²: `Colors.blue[100]` + é’ã®æ ç·š

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### äºˆç´„ä½œæˆã®æµã‚Œ

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆã¾ãŸã¯äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ ã‚’é–‹ãï¼‰
   â†“
2. ReservationFormPage ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   â†“
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ—¥æ™‚ã¨ãƒ¡ãƒ¢ã‚’å…¥åŠ›
   â†“
4. ã€Œäºˆç´„ã‚’ä¿å­˜ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   â†“
5. ReservationViewModel.addReservation() ãŒå‘¼ã°ã‚Œã‚‹
   â†“
6. ReservationRepository.addReservation() ãŒå‘¼ã°ã‚Œã‚‹
   â†“
7. _checkConflicts() ã§é‡è¤‡ãƒã‚§ãƒƒã‚¯
   â†“
8a. é‡è¤‡ãªã— â†’ Firestoreã«ä¿å­˜ â†’ æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
8b. é‡è¤‡ã‚ã‚Š â†’ Exception â†’ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   â†“
9. StreamProviderçµŒç”±ã§è‡ªå‹•çš„ã«UIãŒæ›´æ–°ã•ã‚Œã‚‹
```

### èªè¨¼ã®æµã‚Œ

```
1. ã‚¢ãƒ—ãƒªèµ·å‹•
   â†“
2. authStateProvider ãŒ Firebase Auth ã®çŠ¶æ…‹ã‚’ç›£è¦–
   â†“
3a. ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ â†’ currentUserProvider ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾— â†’ HomePageè¡¨ç¤º
3b. æœªãƒ­ã‚°ã‚¤ãƒ³ â†’ LoginPageè¡¨ç¤º
   â†“
4. ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ â†’ authStateProvider ãŒå¤‰æ›´ã‚’æ¤œçŸ¥ â†’ è‡ªå‹•çš„ã«HomePageã¸é·ç§»
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆã®è¿½åŠ ï¼ˆä»Šå¾Œã®èª²é¡Œï¼‰

### å˜ä½“ãƒ†ã‚¹ãƒˆã®ä¾‹

```dart
// test/models/reservation_test.dart
test('äºˆç´„æ™‚é–“ã®è¨ˆç®—ãŒæ­£ã—ã„', () {
  final reservation = Reservation(
    startTime: DateTime(2025, 11, 1, 9, 0),
    endTime: DateTime(2025, 11, 1, 11, 30),
    // ...
  );
  expect(reservation.durationInHours, 2.5);
});

// test/repositories/reservation_repository_test.dart
test('é‡è¤‡ã™ã‚‹äºˆç´„ã¯ä½œæˆã§ããªã„', () async {
  // ãƒ¢ãƒƒã‚¯ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆ
});

// test/viewmodels/reservation_viewmodel_test.dart
test('äºˆç´„è¿½åŠ æ™‚ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã«ãªã‚‹', () async {
  // ViewModelã®çŠ¶æ…‹é·ç§»ã‚’ãƒ†ã‚¹ãƒˆ
});
```

## ğŸ“¦ ä½¿ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®èª¬æ˜

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| `flutter_riverpod` | ^2.4.9 | çŠ¶æ…‹ç®¡ç†ã€ä¾å­˜æ€§æ³¨å…¥ |
| `firebase_core` | ^2.24.2 | FirebaseåˆæœŸåŒ– |
| `firebase_auth` | ^4.15.3 | ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ |
| `cloud_firestore` | ^4.13.6 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ |
| `firebase_storage` | ^11.5.6 | ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ |
| `intl` | ^0.19.0 | æ—¥æ™‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€å›½éš›åŒ– |
| `table_calendar` | ^3.0.9 | ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼UI |
| `google_fonts` | ^6.1.0 | Googleãƒ•ã‚©ãƒ³ãƒˆ |

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **ç®¡ç†è€…æ©Ÿèƒ½ã®å®Ÿè£…**
   - è£…ç½®ã®è¿½åŠ /ç·¨é›†/å‰Šé™¤ç”»é¢
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢
   - äºˆç´„ã®ä¸€æ‹¬ç®¡ç†

2. **UI/UXã®æ”¹å–„**
   - ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—äºˆç´„
   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼‰
   - ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰

3. **æ©Ÿèƒ½è¿½åŠ **
   - äºˆç´„ã®ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼é€šçŸ¥
   - ç¹°ã‚Šè¿”ã—äºˆç´„
   - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆiCalå½¢å¼ï¼‰
   - äºˆç´„å±¥æ­´ã®çµ±è¨ˆè¡¨ç¤º

4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
   - Firestoreã®ã‚¯ã‚¨ãƒªæœ€é©åŒ–
   - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®å®Ÿè£…
   - ç”»åƒã®é…å»¶èª­ã¿è¾¼ã¿

5. **ãƒ†ã‚¹ãƒˆã®å……å®Ÿ**
   - å˜ä½“ãƒ†ã‚¹ãƒˆ
   - ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
   - çµ±åˆãƒ†ã‚¹ãƒˆ

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [Flutterå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.flutter.dev/)
- [Riverpodå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://riverpod.dev/)
- [Firebaseå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://firebase.google.com/docs)
- [table_calendar ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸](https://pub.dev/packages/table_calendar)
